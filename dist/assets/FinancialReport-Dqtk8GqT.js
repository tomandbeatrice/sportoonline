import{d as c,r as x,o as y,e as n,f as d,g as t,t as s,F as g,k as _,n as f,D as v}from"./index-D2hY-dD-.js";const b={class:"financial-report max-w-7xl mx-auto p-8"},h={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},w={class:"bg-blue-50 p-6 rounded-lg shadow"},k={class:"text-3xl font-bold text-blue-600"},F={class:"bg-red-50 p-6 rounded-lg shadow"},D={class:"text-3xl font-bold text-red-600"},z={class:"bg-green-50 p-6 rounded-lg shadow"},R={class:"text-3xl font-bold text-green-600"},T={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"},B={class:"bg-yellow-50 p-6 rounded-lg shadow"},K={class:"text-2xl font-bold text-yellow-600"},N={class:"bg-green-50 p-6 rounded-lg shadow"},C={class:"text-2xl font-bold text-green-600"},S={class:"bg-white rounded-lg shadow overflow-hidden"},G={key:0,class:"p-8 text-center text-gray-500"},H={key:1,class:"p-8 text-center text-gray-500"},L={key:2,class:"overflow-x-auto"},P={class:"min-w-full divide-y divide-gray-200"},q={class:"bg-white divide-y divide-gray-200"},A={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},E={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},I={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},M={class:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900"},O={class:"px-6 py-4 whitespace-nowrap text-sm text-red-600"},V={class:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-green-600"},Y={class:"px-6 py-4 whitespace-nowrap text-sm"},Q=c({__name:"FinancialReport",setup(j){const r=x({total_revenue:0,total_platform_fees:0,total_seller_payout:0,pending_payout:0,confirmed_payout:0}),i=x([]),p=x(!0);async function m(){try{const a=await v.get("/api/seller/financial-report");r.value=a.data.summary,i.value=a.data.transactions}catch(a){console.error("Finansal rapor yüklenirken hata:",a),alert("Finansal rapor yüklenemedi.")}finally{p.value=!1}}function l(a){return a==null?"0,00":new Intl.NumberFormat("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a)}function u(a){return{paid:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",failed:"bg-red-100 text-red-800"}[a]||"bg-gray-100 text-gray-800"}return y(()=>{m()}),(a,e)=>(d(),n("div",b,[e[9]||(e[9]=t("h1",{class:"text-3xl font-bold mb-8"},"Finans Raporu",-1)),t("div",h,[t("div",w,[e[0]||(e[0]=t("div",{class:"text-sm text-gray-600 mb-2"},"Toplam Gelir",-1)),t("div",k,s(l(r.value.total_revenue))+" ₺",1)]),t("div",F,[e[1]||(e[1]=t("div",{class:"text-sm text-gray-600 mb-2"},"Platform Komisyonu",-1)),t("div",D,"-"+s(l(r.value.total_platform_fees))+" ₺",1)]),t("div",z,[e[2]||(e[2]=t("div",{class:"text-sm text-gray-600 mb-2"},"Net Kazancınız",-1)),t("div",R,s(l(r.value.total_seller_payout))+" ₺",1)])]),t("div",T,[t("div",B,[e[3]||(e[3]=t("div",{class:"text-sm text-gray-600 mb-2"},"Bekleyen Ödeme",-1)),t("div",K,s(l(r.value.pending_payout))+" ₺",1),e[4]||(e[4]=t("p",{class:"text-xs text-gray-500 mt-2"},"Henüz ödenmemiş siparişler",-1))]),t("div",N,[e[5]||(e[5]=t("div",{class:"text-sm text-gray-600 mb-2"},"Onaylanmış Ödeme",-1)),t("div",C,s(l(r.value.confirmed_payout))+" ₺",1),e[6]||(e[6]=t("p",{class:"text-xs text-gray-500 mt-2"},"Ödeme alınan siparişler",-1))])]),t("div",S,[e[8]||(e[8]=t("div",{class:"px-6 py-4 border-b"},[t("h2",{class:"text-xl font-semibold"},"İşlem Geçmişi")],-1)),p.value?(d(),n("div",G," Yükleniyor... ")):i.value.length===0?(d(),n("div",H," Henüz işlem bulunmuyor. ")):(d(),n("div",L,[t("table",P,[e[7]||(e[7]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Tarih"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Ürün"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Adet"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Toplam"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Komisyon"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Net Kazanç"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Durum")])],-1)),t("tbody",q,[(d(!0),n(g,null,_(i.value,o=>(d(),n("tr",{key:o.id},[t("td",A,s(new Date(o.date).toLocaleDateString("tr-TR")),1),t("td",E,s(o.product_name),1),t("td",I,s(o.quantity),1),t("td",M,s(l(o.total))+" ₺ ",1),t("td",O," -"+s(l(o.platform_fee))+" ₺ ",1),t("td",V,s(l(o.seller_payout))+" ₺ ",1),t("td",Y,[t("span",{class:f([u(o.order_status),"px-2 py-1 rounded-full text-xs"])},s(o.order_status),3)])]))),128))])])]))])]))}});export{Q as default};
