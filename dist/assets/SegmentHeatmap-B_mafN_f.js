import{r as i,o as p,D as g,e as r,f as l,g as v,t as _}from"./index-BGyiXXhD.js";import"./auto-BxYDYnC4.js";import{C as k}from"./chart-DUPVkyAx.js";const y={key:0,class:"error-banner"},w={__name:"SegmentHeatmap",setup(b){const o=i(null),s=i(null);return p(async()=>{try{const a=(await g.get("/api/admin/segment-heatmap")).data,c=["Premium","Standard","Low"],m=a.map(e=>`#${e.seller_id}`),d=c.map(e=>m.map(t=>a.find(u=>`#${u.seller_id}`===t&&u.segment===e)?1:0));new k(o.value,{type:"heatmap",data:{labels:m,datasets:c.map((e,t)=>({label:e,data:d[t],backgroundColor:`rgba(${255-t*80}, ${100+t*50}, 150, 0.6)`}))},options:{scales:{x:{title:{display:!0,text:"Satıcı ID"}},y:{title:{display:!0,text:"Segment"}}}}})}catch(n){console.warn("Backend not available:",n.message),s.value="Backend bağlantısı kurulamadı. Laravel backend sunucusunu başlatın."}}),(n,a)=>(l(),r("div",null,[a[0]||(a[0]=v("h2",null,"Segment Öneri Heatmap",-1)),s.value?(l(),r("div",y," ⚠️ "+_(s.value),1)):(l(),r("canvas",{key:1,ref_key:"canvas",ref:o},null,512))]))}};export{w as default};
