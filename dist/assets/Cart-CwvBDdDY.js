import{u as w,f as _,g,h as C,r as T,c as n,o as l,a as t,b as S,w as q,e as F,F as L,k as B,t as a,y as b}from"./index-BIM8AUBS.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"min-h-screen bg-gray-50 py-8"},N={class:"container mx-auto px-4"},V={key:0,class:"text-center py-12"},$={key:1,class:"bg-white rounded-lg shadow p-12 text-center"},A={key:2,class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},M={class:"lg:col-span-2 space-y-4"},D={class:"flex items-center space-x-4"},E=["src","alt"],I={class:"flex-1"},K={class:"font-semibold text-lg"},R={class:"text-gray-600"},G={class:"flex items-center space-x-2"},H=["onClick","disabled"],J={class:"px-4 py-1 border rounded"},O=["onClick"],P={class:"text-right"},Q={class:"font-bold text-lg"},U=["onClick"],W={class:"lg:col-span-1"},X={class:"bg-white rounded-lg shadow p-6 sticky top-4"},Y={class:"space-y-3 mb-6"},Z={class:"flex justify-between"},tt={class:"flex justify-between"},et={class:"flex justify-between text-lg font-bold pt-3 border-t"},st=["disabled"],ot={__name:"Cart",setup(at){const h=w(),r=_([]),i=_(!1),d=_(!1),c=async()=>{i.value=!0;try{const{data:o}=await b.get("/cart");r.value=o}catch(o){console.error("Sepet yÃ¼klenemedi:",o)}finally{i.value=!1}},v=async(o,e)=>{if(!(e<1))try{await b.put("/cart",{item_id:o,quantity:e}),await c()}catch(p){console.error("Miktar gÃ¼ncellenemedi:",p)}},f=async o=>{if(confirm("Bu Ã¼rÃ¼nÃ¼ sepetten kaldÄ±rmak istediÄŸinizden emin misiniz?"))try{await b.delete("/cart",{data:{item_id:o}}),await c()}catch(e){console.error("ÃœrÃ¼n silinemedi:",e)}},u=g(()=>r.value.reduce((o,e)=>o+e.product.price*e.quantity,0)),y=g(()=>u.value>200?0:29.9),m=g(()=>u.value+y.value),k=()=>{d.value=!0,h.push("/checkout")};return C(()=>{c()}),(o,e)=>{const p=T("router-link");return l(),n("div",z,[t("div",N,[e[7]||(e[7]=t("h1",{class:"text-3xl font-bold mb-8"},"ðŸ›’ Sepetim",-1)),i.value?(l(),n("div",V,[...e[0]||(e[0]=[t("p",{class:"text-gray-500"},"Sepet yÃ¼kleniyor...",-1)])])):r.value.length===0?(l(),n("div",$,[e[2]||(e[2]=t("p",{class:"text-xl text-gray-500 mb-4"},"Sepetiniz boÅŸ",-1)),S(p,{to:"/",class:"inline-block px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700"},{default:q(()=>[...e[1]||(e[1]=[F(" AlÄ±ÅŸveriÅŸe BaÅŸla ",-1)])]),_:1})])):(l(),n("div",A,[t("div",M,[(l(!0),n(L,null,B(r.value,s=>(l(),n("div",{key:s.id,class:"bg-white rounded-lg shadow p-4"},[t("div",D,[t("img",{src:s.product.image_url,alt:s.product.name,class:"w-24 h-24 object-cover rounded"},null,8,E),t("div",I,[t("h3",K,a(s.product.name),1),t("p",R,a(s.product.price)+" TL",1)]),t("div",G,[t("button",{onClick:x=>v(s.id,s.quantity-1),disabled:s.quantity<=1,class:"px-3 py-1 border rounded hover:bg-gray-100 disabled:opacity-50"}," - ",8,H),t("span",J,a(s.quantity),1),t("button",{onClick:x=>v(s.id,s.quantity+1),class:"px-3 py-1 border rounded hover:bg-gray-100"}," + ",8,O)]),t("div",P,[t("p",Q,a((s.product.price*s.quantity).toFixed(2))+" TL ",1),t("button",{onClick:x=>f(s.id),class:"text-red-600 text-sm hover:underline mt-2"}," Sil ",8,U)])])]))),128))]),t("div",W,[t("div",X,[e[6]||(e[6]=t("h2",{class:"text-xl font-bold mb-4"},"SipariÅŸ Ã–zeti",-1)),t("div",Y,[t("div",Z,[e[3]||(e[3]=t("span",null,"Ara Toplam",-1)),t("span",null,a(u.value.toFixed(2))+" TL",1)]),t("div",tt,[e[4]||(e[4]=t("span",null,"Kargo",-1)),t("span",null,a(y.value.toFixed(2))+" TL",1)]),t("div",et,[e[5]||(e[5]=t("span",null,"Toplam",-1)),t("span",null,a(m.value.toFixed(2))+" TL",1)])]),t("button",{onClick:k,disabled:d.value,class:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400"},a(d.value?"Ä°ÅŸleniyor...":"SipariÅŸi Tamamla"),9,st)])])]))])])}}},rt=j(ot,[["__scopeId","data-v-5c96e098"]]);export{rt as default};
