import{d as L,r as v,c as m,e as c,f as u,g as l,i as o,w as a,z as s,j as n,F as x,k as f,t as i,M as P,h as j,q as g,v as M,P as H,G as q}from"./index-BGyiXXhD.js";import{_,a as y,b as k,c as S,d as w,e as G}from"./Alert.vue_vue_type_script_setup_true_lang-BrAK_WXF.js";import{c as I,d as J,e as Y,f as Z,_ as Q,a as W,b as z}from"./AccordionContent.vue_vue_type_script_setup_true_lang-DBPeg-7a.js";const X={class:"bg-slate-50 px-4 py-10 md:px-8"},ee={class:"grid gap-6 lg:grid-cols-[1.3fr_0.7fr]"},te={class:"text-xs uppercase tracking-[0.3em] text-white/60"},le={class:"text-4xl font-semibold"},ae={class:"text-sm text-white/70"},se={class:"p-4"},oe={class:"text-slate-400"},ne=["onClick"],ie={class:"mt-8 grid gap-6 lg:grid-cols-[1.2fr_0.8fr]"},de={class:"grid gap-4 md:grid-cols-2"},re={class:"space-y-2 text-sm font-semibold text-slate-700"},ue={class:"space-y-2 text-sm font-semibold text-slate-700"},ce={class:"space-y-2 text-sm font-semibold text-slate-700"},pe=["value"],me={class:"grid gap-3 md:grid-cols-2"},xe=["value"],fe={class:"flex flex-wrap gap-3"},be=["disabled"],ve={class:"flex items-center justify-between"},ge={class:"text-sm font-semibold text-slate-900"},_e={class:"text-xs text-slate-400"},ye={class:"text-xs text-slate-400"},ke={class:"mt-2 text-sm text-slate-500"},he=L({__name:"SegmentExport",setup(Se){const r=v({startDate:"",endDate:"",selectedSegment:""}),b=v("excel"),D=v(["contact"]),p=v(null),h=[{id:"loyalty-max",label:"Sadakat üyeleri (Max)"},{id:"risk-ops",label:"Risk ops · iade eğilimi"},{id:"seller-pro",label:"Satıcı pro · yüksek hacim"}],F=[{id:"segment-1",title:"Sadakat Elite",audience:"104K üye",description:"RFM skoru 4+ ve son 60 günde alışveriş yapan kitle.",preset:{selectedSegment:"loyalty-max",startDate:"2025-10-01",endDate:"2025-11-01"}},{id:"segment-2",title:"Risk Ops İleri",audience:"12K sipariş",description:"İade riski %25 üzeri siparişler.",preset:{selectedSegment:"risk-ops",startDate:"2025-11-01",endDate:"2025-11-17"}}],T=[{id:"contact",label:"İletişim bilgileri"},{id:"order",label:"Sipariş geçmişi"},{id:"rfm",label:"RFM skorları"},{id:"preferences",label:"Tercihler"}],R=[{id:1,title:"Sadakat Elite",format:"Excel",size:"12 MB",segment:"104K üye",time:"Bugün · 08:12"},{id:2,title:"Risk Ops",format:"CSV",size:"16 MB",segment:"12K sipariş",time:"Dün · 22:05"},{id:3,title:"Seller Pro",format:"Excel",size:"8 MB",segment:"Top 500",time:"Dün · 18:30"}],U=m(()=>[{label:"Son 24 Saat",value:"18",hint:"Tamamlanan export"},{label:"Ortalama SLA",value:"03:14",hint:"Job başına dakika"},{label:"Aktif Kuyruk",value:"04",hint:"Hazırlanan çıktı"}]),V=m(()=>{const{startDate:d,endDate:e,selectedSegment:t}=r.value;return!!(d&&e&&t)}),B=m({get:()=>r.value.startDate,set:d=>r.value.startDate=d}),E=m({get:()=>r.value.endDate,set:d=>r.value.endDate=d}),$=m({get:()=>r.value.selectedSegment,set:d=>r.value.selectedSegment=d});function K(){V.value&&(p.value={title:"Export kuyruğa alındı",message:`${A($.value)} segmenti ${b.value.toUpperCase()} olarak hazırlanıyor.`,variant:"emerald"})}function A(d){return h.find(e=>e.id===d)?.label??"Bilinmeyen segment"}function N(d){r.value={...d.preset}}function O(){r.value={startDate:"",endDate:"",selectedSegment:""},D.value=["contact"],b.value="excel",p.value=null}return(d,e)=>(u(),c("div",X,[l("section",ee,[o(s(w),{class:"bg-gradient-to-r from-slate-900 via-indigo-900 to-fuchsia-900 text-white"},{default:a(()=>[o(s(_),null,{default:a(()=>[o(s(y),{class:"text-3xl"},{default:a(()=>[...e[5]||(e[5]=[n("Segment Dışa Aktarım Stüdyosu",-1)])]),_:1}),o(s(k),{class:"text-white/70"},{default:a(()=>[...e[6]||(e[6]=[n("Tek tuşla CRM, BI veya SFTP aktarımı başlat.",-1)])]),_:1})]),_:1}),o(s(S),{class:"grid gap-6 md:grid-cols-3"},{default:a(()=>[(u(!0),c(x,null,f(U.value,t=>(u(),c("div",{key:t.label,class:"space-y-2"},[l("p",te,i(t.label),1),l("p",le,i(t.value),1),l("p",ae,i(t.hint),1)]))),128))]),_:1})]),_:1}),o(s(w),null,{default:a(()=>[o(s(_),null,{default:a(()=>[o(s(y),null,{default:a(()=>[...e[7]||(e[7]=[n("Kayıtlı Segmentler",-1)])]),_:1}),o(s(k),null,{default:a(()=>[...e[8]||(e[8]=[n("Hazır şablonları kullanarak filtreleri otomatik doldur.",-1)])]),_:1})]),_:1}),o(s(S),null,{default:a(()=>[o(s(I),{type:"single",collapsible:"",defaultValue:"segment-1"},{default:a(()=>[(u(),c(x,null,f(F,t=>o(s(J),{key:t.id,value:t.id},{default:a(()=>[l("div",se,[o(s(Y),null,{default:a(()=>[n(i(t.title)+" · ",1),l("span",oe,i(t.audience),1)]),_:2},1024),o(s(Z),{class:"space-y-3 text-sm text-slate-500"},{default:a(()=>[l("p",null,i(t.description),1),l("button",{class:"rounded-2xl border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600",onClick:C=>N(t)}," Filtreleri Uygula ",8,ne)]),_:2},1024)])]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1})]),l("section",ie,[o(s(w),{class:"space-y-6"},{default:a(()=>[o(s(_),null,{default:a(()=>[o(s(y),null,{default:a(()=>[...e[9]||(e[9]=[n("Export Ayarları",-1)])]),_:1}),o(s(k),null,{default:a(()=>[...e[10]||(e[10]=[n("Zaman aralığı, segment ve format seç.",-1)])]),_:1})]),_:1}),o(s(S),{class:"space-y-6"},{default:a(()=>[l("div",de,[l("label",re,[e[11]||(e[11]=n(" Başlangıç Tarihi ",-1)),g(l("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>B.value=t),type:"date",class:"w-full rounded-2xl border border-slate-200 px-4 py-2 text-sm focus:border-slate-900 focus:outline-none"},null,512),[[M,B.value]])]),l("label",ue,[e[12]||(e[12]=n(" Bitiş Tarihi ",-1)),g(l("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>E.value=t),type:"date",class:"w-full rounded-2xl border border-slate-200 px-4 py-2 text-sm focus:border-slate-900 focus:outline-none"},null,512),[[M,E.value]])])]),l("label",ce,[e[14]||(e[14]=n(" Segment ",-1)),g(l("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>$.value=t),class:"w-full rounded-2xl border border-slate-200 bg-white px-4 py-2 text-sm focus:border-slate-900 focus:outline-none"},[e[13]||(e[13]=l("option",{value:"",disabled:""},"Segment seçin",-1)),(u(),c(x,null,f(h,t=>l("option",{key:t.id,value:t.id},i(t.label),9,pe)),64))],512),[[H,$.value]])]),l("div",null,[e[17]||(e[17]=l("p",{class:"text-xs uppercase tracking-[0.3em] text-slate-400"},"Çıktı Formatı",-1)),o(s(Q),{modelValue:b.value,"onUpdate:modelValue":e[3]||(e[3]=t=>b.value=t),defaultValue:"excel",class:"mt-3 space-y-4"},{default:a(()=>[o(s(W),{class:"flex gap-3"},{default:a(()=>[o(s(z),{value:"excel",class:"rounded-2xl border border-slate-200 px-4 py-2 text-xs font-semibold uppercase tracking-[0.3em]","active-class":"border-transparent bg-slate-900 text-white shadow","inactive-class":"border-slate-200 bg-white text-slate-500"},{default:a(()=>[...e[15]||(e[15]=[n(" Excel ",-1)])]),_:1}),o(s(z),{value:"csv",class:"rounded-2xl border border-slate-200 px-4 py-2 text-xs font-semibold uppercase tracking-[0.3em]","active-class":"border-transparent bg-slate-900 text-white shadow","inactive-class":"border-slate-200 bg-white text-slate-500"},{default:a(()=>[...e[16]||(e[16]=[n(" CSV ",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),l("div",me,[(u(),c(x,null,f(T,t=>l("label",{key:t.id,class:"flex items-center gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-600"},[g(l("input",{"onUpdate:modelValue":e[4]||(e[4]=C=>D.value=C),value:t.id,type:"checkbox",class:"h-4 w-4 rounded border-slate-300 text-slate-900 focus:ring-slate-900"},null,8,xe),[[q,D.value]]),n(" "+i(t.label),1)])),64))]),l("div",fe,[l("button",{class:"rounded-2xl border border-slate-200 px-5 py-2 text-sm font-semibold text-slate-600",onClick:O}," Temizle "),l("button",{disabled:!V.value,class:"rounded-2xl bg-slate-900 px-6 py-2 text-sm font-semibold text-white transition disabled:cursor-not-allowed disabled:opacity-50",onClick:K}," Exportu Başlat ",8,be)]),p.value?(u(),P(s(G),{key:0,title:p.value.title,variant:p.value.variant},{default:a(()=>[n(i(p.value.message),1)]),_:1},8,["title","variant"])):j("",!0)]),_:1})]),_:1}),o(s(w),{class:"space-y-6"},{default:a(()=>[o(s(_),null,{default:a(()=>[o(s(y),null,{default:a(()=>[...e[18]||(e[18]=[n("Son Exportlar",-1)])]),_:1}),o(s(k),null,{default:a(()=>[...e[19]||(e[19]=[n("Yakın zamanda indirilen dosyalar",-1)])]),_:1})]),_:1}),o(s(S),{class:"space-y-4"},{default:a(()=>[(u(),c(x,null,f(R,t=>l("div",{key:t.id,class:"rounded-2xl border border-slate-100 bg-white p-4"},[l("div",ve,[l("div",null,[l("p",ge,i(t.title),1),l("p",_e,i(t.format)+" · "+i(t.size),1)]),l("span",ye,i(t.time),1)]),l("p",ke,i(t.segment),1)])),64))]),_:1})]),_:1})])]))}});export{he as default};
