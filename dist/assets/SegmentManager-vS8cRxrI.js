import{r as i,o as p,D as c,e as t,f as n,g as o,h as _,t as h,F as y,k,q as m,v}from"./index-BGyiXXhD.js";const f={class:"segment-manager"},w={key:0,class:"error-banner"},b={key:1,class:"loading"},S={key:2},B=["onUpdate:modelValue"],V=["onUpdate:modelValue"],x=["disabled"],C={__name:"SegmentManager",setup(U){const l=i([]),e=i(!1),r=i(null);p(async()=>{try{e.value=!0;const a=await c.get("/api/admin/segments");l.value=a.data}catch(a){console.warn("Backend not available:",a.message),r.value="Backend bağlantısı kurulamadı. Lütfen Laravel backend sunucusunu başlatın.",l.value=[{id:1,name:"Segment A",weight:.5},{id:2,name:"Segment B",weight:.3},{id:3,name:"Segment C",weight:.2}]}finally{e.value=!1}});const g=async()=>{try{e.value=!0,await c.post("/api/admin/segments/update",l.value),alert("Segmentler kaydedildi!")}catch(a){console.warn("Save failed:",a.message),alert("Kaydetme başarısız. Backend çalışmıyor.")}finally{e.value=!1}};return(a,u)=>(n(),t("div",f,[u[0]||(u[0]=o("h3",null,"Segment Yönetimi",-1)),r.value?(n(),t("div",w," ⚠️ "+h(r.value),1)):_("",!0),e.value?(n(),t("div",b," Yükleniyor... ")):(n(),t("div",S,[(n(!0),t(y,null,k(l.value,s=>(n(),t("div",{key:s.id,class:"segment-row"},[m(o("input",{"onUpdate:modelValue":d=>s.name=d,placeholder:"Segment Adı"},null,8,B),[[v,s.name]]),m(o("input",{"onUpdate:modelValue":d=>s.weight=d,type:"number",step:"0.1",min:"0",max:"1",placeholder:"Ağırlık"},null,8,V),[[v,s.weight]])]))),128)),o("button",{onClick:g,disabled:e.value},"Kaydet",8,x)]))]))}};export{C as default};
